<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P√©gale al Camello üê´</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
html, body {
  margin:0; padding:0; height:100%; width:100%;
  background:black;
  font-family:'Press Start 2P', cursive;
  color:white;
  overflow:hidden;
}

/* ====== FONDOS PERSONALIZADOS ====== */
#start-screen {
  background:url("https://raw.githubusercontent.com/adm579/Juegocamel/main/Inicio.png") center/cover no-repeat;
}

#loading-screen {
  background:url("https://raw.githubusercontent.com/adm579/Juegocamel/main/Portada2.png") center/cover no-repeat;
}

#game-container {
  background:url("https://raw.githubusercontent.com/adm579/Juegocamel/main/Fondo1.png") center/cover no-repeat;
}

/* Pantalla inicial */
#start-screen {
  position:fixed; top:0; left:0; width:100%; height:100%;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:20px;
  animation:fadeIn 7s ease;
}
#start-screen img {max-width:80%; border-radius:16px; box-shadow:0 0 25px #00e5ff;}
#start-screen button {
  padding:14px 28px; font-size:18px; border:none; border-radius:12px;
  cursor:pointer; background:linear-gradient(90deg,#00e5ff,#00ff99);
  color:black; text-shadow:1px 1px 2px white; transition:0.3s; box-shadow:0 0 15px #00e5ff;
}
#start-screen button:hover {transform:scale(1.1); box-shadow:0 0 25px #00ff99;}

@keyframes fadeIn {from{opacity:0;}to{opacity:1;}}

/* Pantalla de carga centrada */
#loading-screen {
  position:fixed; top:0; left:0; width:100%; height:100%;
  display:none; flex-direction:column; justify-content:center; align-items:center;
  animation:fadeIn 1s ease;
  text-align:center;
}
#loading-screen h2 {
  margin-bottom:20px;
  text-shadow:0 0 8px #00e5ff;
}
.barra-contenedor {
  width:70%; max-width:400px; height:28px;
  background:#333; border-radius:15px; overflow:hidden;
  box-shadow:0 0 12px #00e5ff;
}
.barra {
  width:0%; height:100%;
  background:linear-gradient(90deg,#00e5ff,#00ff99);
  text-align:center; color:black; font-weight:bold; line-height:28px;
  transition:width 0.3s;
}

/* Contenedor del juego */
#game-container {
  width:100%; height:100%; display:none; flex-direction:column; position:relative;
}

/* Barra superior */
header {
  width:100%; display:flex; align-items:center; justify-content:center;
  border-bottom:4px solid #00e5ff;
  background:rgba(0,0,0,0.85); padding:12px;
  position:relative; box-shadow:0 0 12px #00e5ff;
}
header h1 {flex:1; text-align:center; font-size:1.3em; margin:0; text-shadow:0 0 10px #00ff99;}
header img {width:42px; height:42px; cursor:pointer; position:absolute; right:12px; top:50%; transform:translateY(-50%); filter:drop-shadow(0 0 6px #00e5ff); transition:0.2s;}
header img:hover {transform:translateY(-50%) scale(1.1);}

/* Men√∫ configuraci√≥n */
#menu {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  width:300px; max-width:90%;
  background: rgba(0,0,0,0.95); color:white;
  display:none; flex-direction:column; padding:20px; border-radius:16px;
  gap:14px; box-shadow:0 0 20px #00e5ff; text-align:center;
  animation:fadeIn 0.5s ease;
}
#menu button {
  padding:12px 18px; font-size:14px; cursor:pointer;
  border:none; border-radius:10px;
  background:linear-gradient(90deg,#00e5ff,#00ff99);
  color:black; font-weight:bold; transition:0.3s;
}
#menu button:hover {transform:scale(1.07); box-shadow:0 0 15px #00ff99;}

/* Canvas */
canvas {flex-grow:1; width:100%; height:100%; display:block;}

/* Barra inferior */
footer {
  display:grid; grid-template-columns:repeat(auto-fit, minmax(60px,1fr));
  gap:6px; padding:8px; border-top:3px solid #00ff99;
  background:rgba(0,0,0,0.85); box-shadow:0 0 12px #00ff99;
}
footer button {
  font-size:22px; padding:12px; border-radius:10px; border:none;
  cursor:pointer; transition:0.2s; background:#222; color:white;
}
footer button:hover {transform:scale(1.1); background:#00e5ff; color:black;}
</style>
</head>
<body>

<!-- Pantalla de inicio -->
<div id="start-screen">
  <img src="https://raw.githubusercontent.com/adm579/Juegocamel/main/Intro.png" alt="Portada">
  <button id="playBtn">üéÆ Jugar</button>
</div>

<!-- Pantalla de carga -->
<div id="loading-screen">
  <h2>Cargando...</h2>
  <div class="barra-contenedor">
    <div id="barra" class="barra">0%</div>
  </div>
</div>

<!-- Contenedor del juego -->
<div id="game-container">
  <header>
    <h1>P√©gale A Don Camel üê´</h1>
    <img id="btnConfig" src="https://raw.githubusercontent.com/adm579/Juegocamel/main/Configuraci√≥n.png" alt="Config">
  </header>

  <!-- Men√∫ configuraci√≥n -->
  <div id="menu">
    <button id="pauseBtn">‚è∏ Pausar</button>
    <button id="resumeBtn">‚ñ∂ Continuar</button>
    <button id="exitBtn">üö™ Salir</button>
  </div>

  <canvas id="juego"></canvas>

  <footer>
    <button>üåµ</button><button>üß∞</button><button>ü™õ</button><button>üîß</button>
    <button>üö≤</button><button>üî©</button><button>üî®</button><button>üßπ</button>
  </footer>
</div>

<audio id="musica" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>
<audio id="disparo" src="https://freesound.org/data/previews/256/256113_3263906-lq.mp3"></audio>
<audio id="salto" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>

<script>
const startScreen=document.getElementById("start-screen");
const loadingScreen=document.getElementById("loading-screen");
const gameContainer=document.getElementById("game-container");
const barra=document.getElementById("barra");

// Iniciar juego con carga
document.getElementById("playBtn").addEventListener("click",()=>{
  startScreen.style.display="none";
  loadingScreen.style.display="flex";
  let progreso=0;
  let intervalo=setInterval(()=>{
    progreso+=10;
    barra.style.width=progreso+"%";
    barra.textContent=progreso+"%";
    if(progreso>=100){
      clearInterval(intervalo);
      setTimeout(()=>{
        loadingScreen.style.display="none";
        gameContainer.style.display="flex";
        iniciarJuego();
      },500);
    }
  },200);
});

// =================== L√ìGICA DEL JUEGO ===================
function iniciarJuego(){
  const musica=document.getElementById("musica");
  const disparo=document.getElementById("disparo");
  const salto=document.getElementById("salto");
  musica.play();
  
  const canvas=document.getElementById("juego");
  const ctx=canvas.getContext("2d");
  function ajustarCanvas(){canvas.width=canvas.clientWidth; canvas.height=canvas.clientHeight;}
  window.addEventListener("resize", ajustarCanvas);
  ajustarCanvas();

  let escalaX = () => canvas.width / 450;
  let escalaY = () => canvas.height / 590;

  const estrellas=Array.from({length:120},()=>({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2}));
  let camello={x:160,y:100,w:80,h:80,dir:2,brinco:0,estado:"normal",velocidadY:0,visible:true,alpha:1};
  let balas=[], balaSeleccionada="üåµ";
  let mensaje="", mensajeVisible=false, mensajeAnim=0;
  let golpes=0, golpesMax=5, juegoTerminado=false;
  let particulas=[];
  let pausado=false;

  function dibujarEstrellas(){ctx.fillStyle="white"; estrellas.forEach(e=>{ctx.beginPath(); ctx.arc(e.x,e.y,e.r*escalaX(),0,Math.PI*2); ctx.fill(); e.y+=0.5*escalaY(); if(e.y>canvas.height)e.y=0;});}
  function dibujarCamello(){if(!camello.visible) return; ctx.save(); ctx.globalAlpha=camello.alpha; ctx.font=`${60*escalaX()}px Arial`; ctx.textAlign="center"; let emoji = camello.estado==="subiendo"?"üê´":camello.estado==="cayendo"?"üò¢":"üê´"; let yOffset=Math.sin(Date.now()/300)*5 + camello.brinco; ctx.fillText(emoji, camello.x*escalaX()+camello.w*escalaX()/2, camello.y*escalaY()+yOffset); ctx.restore();}
  function dibujarMensaje(){if(mensajeVisible){ctx.save(); ctx.font=`${28*escalaX()}px Arial`; ctx.fillStyle=`rgba(255,255,255,${1-mensajeAnim})`; ctx.textAlign="center"; ctx.fillText(mensaje, canvas.width/2, canvas.height/2 - mensajeAnim*80); ctx.restore(); if(mensajeAnim<1) mensajeAnim+=0.02; else mensajeAnim=1;}}
  function dibujarBalas(){if(juegoTerminado) return; ctx.font=`${30*escalaX()}px Arial`; ctx.textAlign="center"; balas.forEach(b=>ctx.fillText(b.emoji,b.x*escalaX(),b.y*escalaY()));}
  function dibujarParticulas(){ctx.fillStyle="#ff5555"; particulas.forEach(p=>{ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fill(); p.x+=p.dx; p.y+=p.dy; p.dy+=0.1;}); particulas=particulas.filter(p=>p.y<canvas.height);}

  function moverCamello(){if(!camello.visible) return; if(camello.estado==="normal"){camello.x+=camello.dir; camello.brinco=Math.sin(Date.now()/200)*10; if(camello.x<=20||camello.x>=canvas.width-camello.w-20) camello.dir*=-1;} else if(camello.estado==="cayendo"){camello.y+=camello.velocidadY; camello.velocidadY+=0.03; if(camello.y>=400){camello.y=400; camello.velocidadY=0.15; iniciarSubida();}} else if(camello.estado==="subiendo"){camello.y+=camello.velocidadY; if(camello.y<=100) camello.y=100;}}
  function moverBalas(){if(juegoTerminado) return; balas.forEach(b=>{b.y-=6; verificarGolpe(b);}); balas=balas.filter(b=>b.y>0);}

  function verificarGolpe(bala){if(camello.estado==="normal" && bala.x>camello.x && bala.x<camello.x+camello.w && bala.y<camello.y+camello.h && bala.y>camello.y-camello.h){golpes++; if(golpes>=golpesMax){juegoTerminado=true; mensaje="Ya me voy al desiertoüò§"; mensajeVisible=true; mensajeAnim=0; for(let i=0;i<60;i++){particulas.push({x:camello.x+40,y:camello.y+40,dx:(Math.random()-0.5)*5,dy:(Math.random()-2)*5,r:Math.random()*5+2});} let fadeInterval=setInterval(()=>{camello.alpha-=0.02;if(camello.alpha<=0){camello.visible=false;clearInterval(fadeInterval);}},30);} else {iniciarCaida();}}}
  function iniciarCaida(){camello.estado="cayendo"; camello.velocidadY=2; mensaje="¬°Ay Miguel!"; mensajeVisible=true; mensajeAnim=0;}
  function iniciarSubida(){camello.estado="subiendo"; camello.velocidadY=-1.5; mensaje="pero regreso Krnal Xd"; mensajeVisible=true; mensajeAnim=0; setTimeout(()=>{camello.estado="normal"; mensajeVisible=false; camello.y=100;},2000);}

  function loop(){if(!pausado){ctx.clearRect(0,0,canvas.width,canvas.height); dibujarEstrellas(); moverCamello(); dibujarCamello(); dibujarBalas(); moverBalas(); dibujarMensaje(); dibujarParticulas();} requestAnimationFrame(loop);}
  loop();

  canvas.addEventListener("click", e=>{if(juegoTerminado||pausado) return; balas.push({x:e.offsetX/escalaX(),y:canvas.height/escalaY()-30,emoji:balaSeleccionada});});
  document.querySelectorAll("footer button").forEach(btn=>{btn.addEventListener("click",()=>{balaSeleccionada=btn.textContent;});});

  const btnConfig=document.getElementById("btnConfig");
  const menu=document.getElementById("menu");
  btnConfig.addEventListener("click",()=>{menu.style.display=menu.style.display==="flex"?"none":"flex";});
  document.getElementById("pauseBtn").addEventListener("click",()=>{pausado=true; menu.style.display="none";});
  document.getElementById("resumeBtn").addEventListener("click",()=>{pausado=false; menu.style.display="none";});
  document.getElementById("exitBtn").addEventListener("click",()=>{location.reload();});
}
</script>

</body>
</html>